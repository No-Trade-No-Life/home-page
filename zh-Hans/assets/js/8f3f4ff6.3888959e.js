"use strict";(self.webpackChunk_yuants_docs=self.webpackChunk_yuants_docs||[]).push([[297],{158:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var r=n(6393);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),s=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=s(e.components);return r.createElement(l.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),d=s(n),h=a,f=d["".concat(l,".").concat(h)]||d[h]||p[h]||o;return n?r.createElement(f,i(i({ref:t},u),{},{components:n})):r.createElement(f,i({ref:t},u))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=h;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c[d]="string"==typeof e?e:a,i[1]=c;for(var s=2;s<o;s++)i[s]=n[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},6952:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>c,toc:()=>s});var r=n(5296),a=(n(6393),n(158));const o={sidebar_position:4},i="How to calculate PnL",c={unversionedId:"basics/how-to-calculate-pnl",id:"basics/how-to-calculate-pnl",title:"How to calculate PnL",description:"PnL = Standard PnL + PnL Correction",source:"@site/docs/basics/how-to-calculate-pnl.md",sourceDirName:"basics",slug:"/basics/how-to-calculate-pnl",permalink:"/zh-Hans/docs/basics/how-to-calculate-pnl",draft:!1,editUrl:"https://github.com/No-Trade-No-Life/Yuan/tree/main/ui/docs/docs/basics/how-to-calculate-pnl.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"docsSidebar",previous:{title:"How to calculate margin",permalink:"/zh-Hans/docs/basics/how-to-calculate-margin"},next:{title:"Guide - Agent",permalink:"/zh-Hans/docs/category/guide---agent"}},l={},s=[{value:"Standard PnL",id:"standard-pnl",level:2},{value:"PnL correction",id:"pnl-correction",level:2}],u={toc:s},d="wrapper";function p(e){let{components:t,...n}=e;return(0,a.kt)(d,(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"how-to-calculate-pnl"},"How to calculate PnL"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"PnL = Standard PnL + PnL Correction")),(0,a.kt)("h2",{id:"standard-pnl"},"Standard PnL"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Standard PnL\xa0=\xa0Position Direction ","*"," Position Volume\xa0","*","\xa0(Close Price - Open Price)\xa0","*"," Product\xa0Value Speed\xa0","*"," Factor of Asset\xa0","*","\xa0Base Currency Exchange Rate\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Position Direction = 1 if long, -1 if short;"),(0,a.kt)("li",{parentName:"ul"},"Factor of Asset = 1 / Close Price if foreign exchange or bond spot, otherwise 1;"),(0,a.kt)("li",{parentName:"ul"},"Base Currency Exchange Rate = the exchange rate of ",(0,a.kt)("strong",{parentName:"li"},"product's base currency")," vs ",(0,a.kt)("strong",{parentName:"li"},"account's margin currency")," at the time of position exiting.")),(0,a.kt)("p",null,"This standard equation applies to the calculation of PnL in ideal cases for all known products such as stocks, foreign exchange, bonds, commodity futures, precious metals, option contracts, etc."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},'Value speed is a constant for the same product, usually 1 in stocks, and is called "contract size" in futures or options contracts.'),(0,a.kt)("li",{parentName:"ul"},'Floating PnL is the PnL calculated by substituting "Close Price = Current Closable Price" into the formula.'),(0,a.kt)("li",{parentName:"ul"},"For cases where the base currency and margin currency are different , it is not possible to directly obtain the base currency exchange rate at the time of position squaring from historical orders. However, the exchange usually directly gives the standard PnL of the order. At this time, the price of the base currency against the margin currency at the time of position squaring can be deduced from the PnL.")),(0,a.kt)("h2",{id:"pnl-correction"},"PnL correction"),(0,a.kt)("p",null,'"PnL correction" mainly refers to transaction costs, which generally account for a small part of speculative trading.\nThe calculation of PnL correction is actually very complicated, and different exchanges may have different formats of rules to regulate trading behavior.'),(0,a.kt)("p",null,"Let's learn some rules:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"According to trading volume : for example, the handling fee of non-ferrous metal futures of the Shanghai Futures Exchange is calculated based on a fixed amount per lot;"),(0,a.kt)("li",{parentName:"ol"},"According to the turnover : for example, the handling fee of the stock index futures of CICC is calculated at 2.3% of the turnover;"),(0,a.kt)("li",{parentName:"ol"},"One-way two-way : some products of handling fees are only charged when opening positions, and some are charged in both directions of opening."),(0,a.kt)("li",{parentName:"ol"},"Today's Position / yesterday's Position : China futures usually designate close today 's position and close yesterday's position to charge different fees;"),(0,a.kt)("li",{parentName:"ol"},"Overnight interest : When the foreign exchange spread contract position is held overnight (usually at 0:00 Eastern European time), interest will be generated, but it will not be charged overnight;"),(0,a.kt)("li",{parentName:"ol"},"Alternate Weekly Interest : Usually on Wednesday, overnight interest will be charged for 3 days at a time."),(0,a.kt)("li",{parentName:"ol"},"Dividend : When trading stocks, the position dividend will increase the PnL correction value."),(0,a.kt)("li",{parentName:"ol"},"Policy adjustment : An event in which the exchange changes the coefficients of its fees.")),(0,a.kt)("p",null,"It has been found that it is difficult to calculate transaction costs using the standard equation."),(0,a.kt)("p",null,"However, the exchange will definitely give the final true PnL in the settlement, and at least the PnL correction value can be deduced through the final true PnL."),(0,a.kt)("p",null,"So, we can use the following equation to calculate the PnL correction:"),(0,a.kt)("p",null,"PnL Correction = PnL - Standard PnL"))}p.isMDXComponent=!0}}]);