"use strict";(self.webpackChunk_yuants_docs=self.webpackChunk_yuants_docs||[]).push([[350],{158:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>p});var n=a(6393);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},h="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),h=c(a),d=i,p=h["".concat(l,".").concat(d)]||h[d]||m[d]||r;return a?n.createElement(p,o(o({ref:t},u),{},{components:a})):n.createElement(p,o({ref:t},u))}));function p(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,o=new Array(r);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[h]="string"==typeof e?e:i,o[1]=s;for(var c=2;c<r;c++)o[c]=a[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},3156:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var n=a(5296),i=(a(6393),a(158));const r={sidebar_position:3},o="How to calculate margin",s={unversionedId:"basics/how-to-calculate-margin",id:"basics/how-to-calculate-margin",title:"How to calculate margin",description:"Each market has its own unique margin system, and the margin calculation method introduced in this article may not be applicable to all markets. However, the standard margin introduced in this article is a basic version, and the current market margin system is based on this evolution. In actual trading, the account margin given by the exchange clearing center should be used as the standard.",source:"@site/docs/basics/how-to-calculate-margin.md",sourceDirName:"basics",slug:"/basics/how-to-calculate-margin",permalink:"/docs/basics/how-to-calculate-margin",draft:!1,editUrl:"https://github.com/No-Trade-No-Life/Yuan/tree/main/ui/docs/docs/basics/how-to-calculate-margin.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"docsSidebar",previous:{title:"What is Account",permalink:"/docs/basics/what-is-account"},next:{title:"How to calculate PnL",permalink:"/docs/basics/how-to-calculate-pnl"}},l={},c=[],u={toc:c},h="wrapper";function m(e){let{components:t,...a}=e;return(0,i.kt)(h,(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"how-to-calculate-margin"},"How to calculate margin"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Each market has its own unique margin system, and the margin calculation method introduced in this article may not be applicable to all markets. However, the standard margin introduced in this article is a basic version, and the current market margin system is based on this evolution. In actual trading, the account margin given by the exchange clearing center should be used as the standard.")),(0,i.kt)("p",null,"The standard margin model is:"),(0,i.kt)("p",null,"Used Margin = sum of all positions' used margin / account's leverage."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Each position's used margin = Position Volume ","*"," Product Value Speed ","*"," Factor of Asset ","*"," Base Currency Exchange Rate ","*"," Product Margin Rate"),(0,i.kt)("li",{parentName:"ul"},"Factor of Asset = 1 if FX or Bond Spot, otherwise Open Price of Position."),(0,i.kt)("li",{parentName:"ul"},"Base Currency Exchange Rate = the exchange rate of ",(0,i.kt)("strong",{parentName:"li"},"product's base currency")," vs ",(0,i.kt)("strong",{parentName:"li"},"account's margin currency")," at the time of position opening.")),(0,i.kt)("p",null,"Once a position is opened, the used margin will not change with the price."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"free = equity - used")),(0,i.kt)("p",null,"The available margin will fluctuate with the fluctuation of the equity, and the necessary condition for opening a position is that the available margin is not less than the margin required to open the position."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Margin-equity ratio")," = 100% ","*"," used margin / equity"),(0,i.kt)("p",null,"Margin-equity ratio is used to measure the overall risk of an account."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"When the Margin-equity ratio is greater than 100%, it means that the free margin is negative, and the position cannot be opened at this time, and there is a risk of forced position squaring (",(0,i.kt)("strong",{parentName:"li"},"liquidation"),")."),(0,i.kt)("li",{parentName:"ul"},"Generally, when the Margin-equity ratio is greater than 100% ( ",(0,i.kt)("strong",{parentName:"li"},"warning line")," ), the exchange will notify users to deposit and add margin."),(0,i.kt)("li",{parentName:"ul"},"When users ignore this warning and the margin-equity ratio further increase to a certain value ( ",(0,i.kt)("strong",{parentName:"li"},"liquidation line")," ), the exchange will adopt risk control measures to forcibly close a part of the user's position, causing the used margin to decrease and the margin-equity ratio to rebound. Eventually, under continuous losses, all positions may be forced to position squaring, and the account balance may eventually return to zero or almost zero. In the case of severe market fluctuations, the account balance may eventually be negative, indicating that there is a liability . The exchange usually controls the relationship between the system leverage ratio and the liquidation line to ensure that users do not have debt as much as possible, but nothing is absolute. In the case of a lower account leverage ratio, some exchange will explicitly provide a \"zero debt guarantee\", and will pay for the user's debt out of their own pocket to ensure that the final balance is not negative.")),(0,i.kt)("p",null,"When the margin-equity ratio is too low, it means that the account funds are not fully utilized."),(0,i.kt)("p",null,"Actual leverage ratio = Margin-equity ratio ","*"," account leverage ratio"),(0,i.kt)("p",null,"Sometimes we are more inclined to use the actual leverage ratio to express the utilization rate of funds.\nWhen the actual leverage ratio is less than 100%, it means that no matter how the price fluctuates, as long as it is non-negative , the account will not be liquidated to zero. However, if the volatility of the variety price is very small, using too little leverage will waste the funds in the account. Therefore, the setting of the actual leverage ratio should be related to the volatility of the trading variety price. However, in the stock market, unless financing and securities lending, since the account leverage ratio is 1, the actual leverage ratio cannot exceed 100%."),(0,i.kt)("p",null,"Special circumstances:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Lock Position: Long and short positions of the same variety can constitute a lock position . The sum of the profits of the lock position is constant, so there is no risk, so it is reasonable to reduce the margin in principle. Generally, a coefficient less than 1 is multiplied to the sum of the margin of the lock positions as the total margin."),(0,i.kt)("li",{parentName:"ul"},'Cross/Isolated: In contract trading on crypto exchanges , there is a common margin calculation mechanism - "full position" - that is, the maximum amount of margin for all positions is taken as the account margin. This actually allows users to hold more positions, which is a policy to encourage leverage and increase market activity level.'),(0,i.kt)("li",{parentName:"ul"},"China futures adopt a daily mark-to-market system , which recalculates the margin after the daily close, essentially using the settlement price as the latest opening price. It can be understood as forced position closed-and-reopen. This system, by regularly bringing the net value closer to the balance and recalculating the used margin, advances the timing of adding margin for losers, ultimately helping to reduce the default risk of market participants.")))}m.isMDXComponent=!0}}]);