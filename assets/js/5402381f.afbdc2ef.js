"use strict";(self.webpackChunk_yuants_docs=self.webpackChunk_yuants_docs||[]).push([[6812],{6303:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>l,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var t=r(9541),o=r(4317);const i={},s="Providing Trading Interface",a={id:"vendor-guide/vendor-trading-interfaces",title:"Providing Trading Interface",description:"In Yuan, the trading interface refers to the interface used for trading operations with external systems. All trading interfaces revolve around the concept of Order.",source:"@site/docs/vendor-guide/vendor-trading-interfaces.md",sourceDirName:"vendor-guide",slug:"/vendor-guide/vendor-trading-interfaces",permalink:"/docs/vendor-guide/vendor-trading-interfaces",draft:!1,unlisted:!1,editUrl:"https://github.com/No-Trade-No-Life/Yuan/tree/main/ui/docs/docs/vendor-guide/vendor-trading-interfaces.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Providing Real-Time Market Data",permalink:"/docs/vendor-guide/vendor-realtime-market-data"},next:{title:"Providing Transfer Interface",permalink:"/docs/vendor-guide/vendor-transfer"}},d={},c=[{value:"Order Submission Interface",id:"order-submission-interface",level:2},{value:"Order Modification Interface",id:"order-modification-interface",level:2},{value:"Order Cancellation Interface",id:"order-cancellation-interface",level:2}];function m(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"providing-trading-interface",children:"Providing Trading Interface"}),"\n",(0,t.jsxs)(n.p,{children:["In Yuan, the trading interface refers to the interface used for trading operations with external systems. All trading interfaces revolve around the concept of ",(0,t.jsx)(n.a,{href:"/docs/basics/what-is-order",children:(0,t.jsx)(n.strong,{children:"Order"})}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Specifically, trading interfaces are categorized into three types:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Order Submission Interface"}),"\n",(0,t.jsx)(n.li,{children:"Order Modification Interface"}),"\n",(0,t.jsx)(n.li,{children:"Order Cancellation Interface"}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{title:"Considerations for Trading Interfaces",type:"tip",children:(0,t.jsx)(n.p,{children:"The key to implementing trading interfaces is to correctly convert the standard order parameters of Yuan into the order parameters of the external system. This may involve some concept conversions, which require special attention from the vendor maintainers."})}),"\n",(0,t.jsx)(n.h2,{id:"order-submission-interface",children:"Order Submission Interface"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { Terminal } from '@yuants/protocol';\nimport { formatTime } from '@yuants/data-model';\n\nconst terminal = new Terminal(process.env.HOST_URL!, {});\n\nterminal.provideService(\n  'SubmitOrder',\n  {\n    required: ['account_id'],\n    properties: {\n      account_id: {\n        const: process.env.ACCOUNT_ID,\n      },\n    },\n  },\n  async (msg) => {\n    console.info(formatTime(Date.now()), `SubmitOrder`, JSON.stringify(msg));\n    const order = msg.req;\n\n    /// NOTE: makeParams needs to be implemented by yourself,\n    ///   used to convert the standard order parameters of Yuan into the order parameters of the external system.\n    ///   For example, convert the direction field into buy/sell and long/short fields.\n    const params = makeParams(order);\n    console.info(formatTime(Date.now()), 'SubmitOrder', 'params', JSON.stringify(params));\n    /// NOTE: Api.submitOrder needs to be implemented by yourself.\n    const res = await Api.submitOrder(params);\n    if (!res.success) {\n      return {\n        res: {\n          code: 400,\n          message: res.msg,\n        },\n      };\n    }\n    return { res: { code: 0, message: 'OK' } };\n  },\n);\n"})}),"\n",(0,t.jsx)(n.h2,{id:"order-modification-interface",children:"Order Modification Interface"}),"\n",(0,t.jsx)(n.p,{children:"Some external systems do not support order modification operations, so the vendor maintainers need to decide whether to implement the order modification interface based on the characteristics of the external system."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { Terminal } from '@yuants/protocol';\nimport { formatTime } from '@yuants/data-model';\n\nconst terminal = new Terminal(process.env.HOST_URL!, {});\n\nterminal.provideService(\n  'ModifyOrder',\n  {\n    required: ['account_id'],\n    properties: {\n      account_id: {\n        const: process.env.ACCOUNT_ID,\n      },\n    },\n  },\n  async (msg) => {\n    console.info(formatTime(Date.now()), 'ModifyOrder', JSON.stringify(msg));\n    /// NOTE: makeParams needs to be implemented by yourself,\n    ///   used to convert the standard order parameters of Yuan into the order parameters of the external system.\n    ///   For example, convert the direction field into buy/sell and long/short fields.\n    const params = makeParams(msg.req);\n    /// NOTE: Api.modifyOrder needs to be implemented by yourself.\n    const res = await Api.modifyOrder(params);\n    if (!res.success) {\n      return {\n        res: {\n          code: 400,\n          message: res.msg,\n        },\n      };\n    }\n    return { res: { code: 0, message: 'OK' } };\n  },\n);\n"})}),"\n",(0,t.jsx)(n.h2,{id:"order-cancellation-interface",children:"Order Cancellation Interface"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { Terminal } from '@yuants/protocol';\nimport { formatTime } from '@yuants/data-model';\n\nconst terminal = new Terminal(process.env.HOST_URL!, {});\n\nterminal.provideService(\n  'CancelOrder',\n  {\n    required: ['account_id'],\n    properties: {\n      account_id: {\n        const: process.env.ACCOUNT_ID,\n      },\n    },\n  },\n  async (msg) => {\n    console.info(formatTime(Date.now()), 'CancelOrder', JSON.stringify(msg));\n    /// NOTE: makeParams needs to be implemented by yourself,\n    ///   Generally, the order cancellation interface only needs the order ID.\n    const params = makeParams(msg.req);\n    /// NOTE: Api.cancelOrder needs to be implemented by yourself.\n    const res = await Api.cancelOrder(params);\n    if (!res.success) {\n      return {\n        res: {\n          code: 400,\n          message: res.msg,\n        },\n      };\n    }\n    return { res: { code: 0, message: 'OK' } };\n  },\n);\n"})})]})}function l(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(m,{...e})}):m(e)}},4317:(e,n,r)=>{r.d(n,{Z:()=>a,a:()=>s});var t=r(3981);const o={},i=t.createContext(o);function s(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);