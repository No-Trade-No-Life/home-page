"use strict";(self.webpackChunk_yuants_docs=self.webpackChunk_yuants_docs||[]).push([[8173],{6704:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>d,default:()=>l,frontMatter:()=>o,metadata:()=>a,toc:()=>c});var n=r(9541),i=r(4317);const o={},d="Providing Real-Time Market Data",a={id:"vendor-guide/vendor-realtime-market-data",title:"Providing Real-Time Market Data",description:"Suppliers can provide real-time market data through channels for other terminals to subscribe to.",source:"@site/docs/vendor-guide/vendor-realtime-market-data.md",sourceDirName:"vendor-guide",slug:"/vendor-guide/vendor-realtime-market-data",permalink:"/docs/vendor-guide/vendor-realtime-market-data",draft:!1,unlisted:!1,editUrl:"https://github.com/No-Trade-No-Life/Yuan/tree/main/ui/docs/docs/vendor-guide/vendor-realtime-market-data.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Providing Product Specifications",permalink:"/docs/vendor-guide/vendor-product"},next:{title:"Providing Trading Interface",permalink:"/docs/vendor-guide/vendor-trading-interfaces"}},s={},c=[];function u(e){const t={code:"code",h1:"h1",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"providing-real-time-market-data",children:"Providing Real-Time Market Data"}),"\n",(0,n.jsx)(t.p,{children:"Suppliers can provide real-time market data through channels for other terminals to subscribe to."}),"\n",(0,n.jsxs)(t.p,{children:["It is recommended to use the ",(0,n.jsx)(t.code,{children:"provideTicks"})," method to provide real-time Tick market data."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-ts",children:"import { provideTicks } from '@yuants/protocol';\nimport { ITick } from '@yuants/data-model';\nimport { combineLatest, defer, map } from 'rxjs';\n\nprovideTicks(terminal, VENDOR_NAME, (product_id) => {\n  return combineLatest([\n    defer(() => Api.getProduct(product_id)), // Product information (needs to be implemented by yourself)\n    defer(() => Api.getPrice(product_id)), // Price information (needs to be implemented by yourself)\n  ]).pipe(\n    map(([product_info, price_info]): ITick => {\n      return {\n        product_id,\n        updated_at: Date.now(),\n        // ...other fields\n      };\n    }),\n  );\n});\n"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["Suppliers provide real-time market data for all products prefixed with ",(0,n.jsx)(t.code,{children:"VENDOR_NAME"}),". However, this does not guarantee that all products prefixed with ",(0,n.jsx)(t.code,{children:"VENDOR_NAME"})," exist, so suppliers need to determine whether the product ID exists themselves. Generally, suppliers are indeed responsible for verifying the existence of product IDs within their jurisdiction."]}),"\n",(0,n.jsxs)(t.li,{children:["When a product ID does not exist, an ",(0,n.jsx)(t.code,{children:"EMPTY"})," stream can be returned, which does not return any data and is a completed stream."]}),"\n",(0,n.jsx)(t.li,{children:"The frequency of Tick pushes is determined by the supplier. In principle, data should be pushed as frequently as possible. It should not be too sparse to avoid outdated market data in the Yuan system. For high-frequency trading products, the push frequency should be higher."}),"\n"]})]})}function l(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},4317:(e,t,r)=>{r.d(t,{Z:()=>a,a:()=>d});var n=r(3981);const i={},o=n.createContext(i);function d(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);