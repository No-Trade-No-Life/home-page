"use strict";(self.webpackChunk_yuants_docs=self.webpackChunk_yuants_docs||[]).push([[6839],{2230:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var n=i(9541),t=i(4317);const r={sidebar_position:4},a="Using Time Series",o={id:"agent-guide/using-time-series",title:"Using Time Series",description:"Time Series is an important part of Quantitative Trading Analysis.",source:"@site/docs/agent-guide/using-time-series.md",sourceDirName:"agent-guide",slug:"/agent-guide/using-time-series",permalink:"/docs/agent-guide/using-time-series",draft:!1,unlisted:!1,editUrl:"https://github.com/No-Trade-No-Life/Yuan/tree/main/ui/docs/docs/agent-guide/using-time-series.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"docsSidebar",previous:{title:"Using Position Manager",permalink:"/docs/agent-guide/using-position-manager"},next:{title:"Using Technical Indicators",permalink:"/docs/agent-guide/using-technical-indicators"}},l={},c=[{value:"Time Alignment and Time Series Forest",id:"time-alignment-and-time-series-forest",level:2},{value:"Time Direction and Time Series Index",id:"time-direction-and-time-series-index",level:2},{value:"<code>useSeries</code>",id:"useseries",level:2},{value:"Visualization",id:"visualization",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",sup:"sup",ul:"ul",...(0,t.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"using-time-series",children:"Using Time Series"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Time Series"})," is an important part of Quantitative Trading Analysis."]}),"\n",(0,n.jsx)(s.p,{children:"In fundamental, time series is an array of number, which is aligned to the timestamp series."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Every time series has a UUID, which is used to identify the time series."}),"\n",(0,n.jsx)(s.li,{children:"Every time series has a name, which is used to label the time series."}),"\n",(0,n.jsx)(s.li,{children:"Every time series has a parent series. The root of time series is inferred as timestamp series."}),"\n",(0,n.jsx)(s.li,{children:"Every time series has some attribute tags for other usages."}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"time-alignment-and-time-series-forest",children:"Time Alignment and Time Series Forest"}),"\n",(0,n.jsx)(s.p,{children:"In fact:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Every item of time series has two conceptual dimension: time and value."}),"\n",(0,n.jsx)(s.li,{children:"Most of time series share a same time dimension."}),"\n",(0,n.jsx)(s.li,{children:"Sometimes, we need to analyze in cross time frames. (e.g. both in 1hour and 1day time frames)"}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["To resolve this issue, let's introduce the Time Series Forest",(0,n.jsx)(s.sup,{children:(0,n.jsx)(s.a,{href:"#user-content-fn-1",id:"user-content-fnref-1","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})}),", which is a tree structure that contains all the time series."]}),"\n",(0,n.jsx)(s.mermaid,{value:"graph TD\n1min_timestamp --\x3e 1min_close\n1min_timestamp --\x3e 1min_volume\n15min_timestamp --\x3e 15min_close\n15min_timestamp --\x3e 15min_volume\n1min_close --\x3e SMA_1min_close_20"}),"\n",(0,n.jsx)(s.p,{children:"The roots of the tree are timestamp series. Timestamp is represented as number timestamp epoch in milliseconds."}),"\n",(0,n.jsx)(s.p,{children:"The children of the timestamp series are the time series that are aligned to the timestamp series.\nFor example, the close price series is aligned to the timestamp series. So the root series of close price series is the timestamp series."}),"\n",(0,n.jsx)(s.p,{children:"There're might be multiple time series that are aligned to the same timestamp series. For example, the close price series and the volume series are both aligned to the timestamp series."}),"\n",(0,n.jsx)(s.p,{children:"There're might be multiple timestamp series. For example, the timestamp series of 1-minute and the timestamp series of 15-minute."}),"\n",(0,n.jsx)(s.h2,{id:"time-direction-and-time-series-index",children:"Time Direction and Time Series Index"}),"\n",(0,n.jsx)(s.p,{children:"The value of time series can be random-accessed by index, because it's an array. The index makes sense only in the context of time alignment."}),"\n",(0,n.jsx)(s.p,{children:"The array grows from left to right, which means the index of the latest item is the largest."}),"\n",(0,n.jsxs)(s.p,{children:["The index of the latest item is called the ",(0,n.jsx)(s.strong,{children:"current index"}),", it's usually the bar that has not closed.\nThe previous number of the current index is called the ",(0,n.jsx)(s.strong,{children:"previous index"}),", it's usually the bar that has closed."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"export default () => {\n  const { time, open, close } = useOHLC('Y', 'XAUUSD', 'PT1H');\n  console.info(\n    formatTime(time.currentValue), // the latest time, equivalent to time[time.length - 1]\n    time.currentIndex, // equivalent to time.length - 1\n    time.previousIndex, // equivalent to time.length - 2\n    close.currentIndex, // equivalent to time.currentIndex\n    open.currentValue, // the latest open price, equivalent to open[open.currentIndex]\n    open.previousValue, // the previous open price, equivalent to open[previousIndex]\n    close.currentValue, // the latest close price, equivalent to close[currentIndex]\n    close.previousValue, // the previous close price, equivalent to close[previousIndex]\n  );\n};\n"})}),"\n",(0,n.jsx)(s.h2,{id:"useseries",children:(0,n.jsx)(s.code,{children:"useSeries"})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"useSeries"})," is used to create a Time Series."]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"The first parameter is the name of the series."}),"\n",(0,n.jsx)(s.li,{children:"The second parameter is the parent series."}),"\n",(0,n.jsxs)(s.li,{children:["The third parameter is the tags of the series. Defaults to ",(0,n.jsx)(s.code,{children:"{}"})]}),"\n"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"export default () => {\n  const { close } = useOHLC('Y', 'XAUUSD', 'PT1H');\n  const series = useSeries('series-name', close);\n  useEffect(() => {\n    series[series.currentIndex] = Math.random();\n  });\n};\n"})}),"\n",(0,n.jsx)(s.p,{children:"You can also specify the tags to initialize the Series."}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"export default () => {\n  const { close } = useOHLC('Y', 'XAUUSD', 'PT1H');\n  const series = useSeries('series-name', close, { display: 'line', chart: 'new' });\n  useEffect(() => {\n    series[series.currentIndex] = Math.random();\n  });\n};\n"})}),"\n",(0,n.jsx)(s.h2,{id:"visualization",children:"Visualization"}),"\n",(0,n.jsxs)(s.p,{children:["You can specify the third parameter of ",(0,n.jsx)(s.code,{children:"useSeries"})," to control the visualization."]}),"\n",(0,n.jsx)(s.p,{children:"You can specify the display type of the series."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"It will hide the series by default."}),"\n",(0,n.jsxs)(s.li,{children:["You can draw line chart by specify ",(0,n.jsx)(s.code,{children:"display: 'line'"}),"."]}),"\n",(0,n.jsxs)(s.li,{children:["You can draw histogram by specify ",(0,n.jsx)(s.code,{children:"display: 'hist'"}),"."]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"You can specify which chart to place the series."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"It will place the series follow the parent series by default."}),"\n",(0,n.jsxs)(s.li,{children:["You can place the series on a new chart by specify ",(0,n.jsx)(s.code,{children:"chart: 'new'"}),"."]}),"\n",(0,n.jsxs)(s.li,{children:["You can place the series follow another series by specify ",(0,n.jsx)(s.code,{children:"chart: anotherSeries.id"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(s.section,{"data-footnotes":!0,className:"footnotes",children:[(0,n.jsx)(s.h2,{className:"sr-only",id:"footnote-label",children:"Footnotes"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{id:"user-content-fn-1",children:["\n",(0,n.jsxs)(s.p,{children:["Forest is a computer science term. It's a data structure of a collection of trees. ",(0,n.jsx)(s.a,{href:"#user-content-fnref-1","data-footnote-backref":"","aria-label":"Back to reference 1",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},4317:(e,s,i)=>{i.d(s,{Z:()=>o,a:()=>a});var n=i(3981);const t={},r=n.createContext(t);function a(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);